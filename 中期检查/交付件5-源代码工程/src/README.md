##  测试运行说明

前置条件：

* 完成项目wj的启动，访问http://localhost:8443/进行检查

<img src="md_pics/README/image-20251010155439259.png" alt="image-20251010155439259" style="zoom:50%;" />

测试代码运行：

```bash
# 在当前目录依次执行如下命令
cd tests


# 首页展示-广告展示测试
pytest test_home_ad.py -v



# 性能需求-吞吐量测试
pytest test_perf_thph.py -q -k performance -q
```



结果示例：

```bash
(base) PS C:\my\programs\py\software_quality_testing\src> cd tests
(base) PS C:\my\programs\py\software_quality_testing\src\tests> pytest test_home_ad.py -v
======================================= test session starts ========================================
platform win32 -- Python 3.12.4, pytest-7.4.4, pluggy-1.0.0 -- C:\my\apps\ides\anaconda3-20240601\python.exe
cachedir: .pytest_cache
rootdir: C:\my\programs\py\software_quality_testing\src
configfile: pytest.ini
plugins: anyio-4.2.0
collecting ... 
--------------------------------------- live log collection ---------------------------------------- 
2025-10-10 16:00:06 [INFO] 日志系统初始化完成，日志文件: ../outputs/logs\test_20251010_160006.log    
collected 5 items                                                                                    

test_home_ad.py::TestHomeAdvertisement::test_home_ad_01_display_advertisement 
------------------------------------------ live log setup ------------------------------------------ 
2025-10-10 16:00:06 [INFO] 开始执行测试方法: test_home_ad_01_display_advertisement
------------------------------------------ live log call ------------------------------------------- 
2025-10-10 16:00:06 [INFO] ================================================================================
2025-10-10 16:00:06 [INFO] 测试用例: HOME-AD-01 - 展示广告
2025-10-10 16:00:06 [INFO] ================================================================================
2025-10-10 16:00:06 [INFO] 步骤: 访问主页
2025-10-10 16:00:06 [INFO] 断言状态码 ✓ - 期望: 200, 实际: 200
2025-10-10 16:00:06 [INFO] 断言消息: 主页应该成功加载
2025-10-10 16:00:06 [INFO] 步骤: 获取广告数据
2025-10-10 16:00:06 [INFO] 广告API不存在，广告可能在前端硬编码
2025-10-10 16:00:06 [INFO] 根据Carousel.vue，默认有3个广告:
2025-10-10 16:00:06 [INFO] 1. How2J.cn - Java 全栈学习网站
2025-10-10 16:00:06 [INFO] 2. Vue.js - 渐进式 JavaScript 框架
2025-10-10 16:00:06 [INFO] 3. element-ui - 网站快速成型工具
2025-10-10 16:00:06 [INFO] 断言为真 ✓
2025-10-10 16:00:06 [INFO] 断言消息: 广告在前端代码中已定义
2025-10-10 16:00:06 [INFO] ✓ 测试用例 HOME-AD-01 执行通过
PASSED                                                                                        [ 20%]
---------------------------------------- live log teardown ----------------------------------------- 
2025-10-10 16:00:06 [INFO] 测试方法 test_home_ad_01_display_advertisement 执行完成，耗时: 0.02秒     

test_home_ad.py::TestHomeAdvertisement::test_home_ad_02_advertisement_navigation
------------------------------------------ live log setup ------------------------------------------ 
2025-10-10 16:00:06 [INFO] 开始执行测试方法: test_home_ad_02_advertisement_navigation
------------------------------------------ live log call ------------------------------------------- 
2025-10-10 16:00:06 [INFO] ================================================================================
2025-10-10 16:00:06 [INFO] 测试用例: HOME-AD-02 - 广告跳转
2025-10-10 16:00:06 [INFO] ================================================================================
2025-10-10 16:00:06 [INFO] 步骤: 获取广告链接信息
2025-10-10 16:00:06 [INFO] 使用前端默认广告链接进行测试
2025-10-10 16:00:06 [INFO] 步骤: 验证广告链接
2025-10-10 16:00:06 [INFO] 断言为真 ✓
2025-10-10 16:00:06 [INFO] 断言消息: 应该至少有一个广告链接
2025-10-10 16:00:06 [INFO] 验证广告 1 的链接: http://how2j.cn?p=50613
2025-10-10 16:00:06 [INFO] 断言为真 ✓
2025-10-10 16:00:06 [INFO] 断言消息: 广告链接应该是有效的URL: http://how2j.cn?p=50613
2025-10-10 16:00:06 [INFO] ✓ 广告 1 链接格式正确
2025-10-10 16:00:06 [INFO] 验证广告 2 的链接: https://cn.vuejs.org/
2025-10-10 16:00:06 [INFO] 断言为真 ✓
2025-10-10 16:00:06 [INFO] 断言消息: 广告链接应该是有效的URL: https://cn.vuejs.org/
2025-10-10 16:00:06 [INFO] ✓ 广告 2 链接格式正确
2025-10-10 16:00:06 [INFO] 验证广告 3 的链接: http://element-cn.eleme.io/#/zh-CN
2025-10-10 16:00:06 [INFO] 断言为真 ✓
2025-10-10 16:00:06 [INFO] 断言消息: 广告链接应该是有效的URL: http://element-cn.eleme.io/#/zh-CN     
2025-10-10 16:00:06 [INFO] ✓ 广告 3 链接格式正确
2025-10-10 16:00:06 [INFO] 步骤: 验证广告数据完整性
2025-10-10 16:00:06 [INFO] 共有 3 个广告链接可供跳转
2025-10-10 16:00:06 [INFO] 断言为真 ✓
2025-10-10 16:00:06 [INFO] 断言消息: 至少应该有一个可跳转的广告
2025-10-10 16:00:06 [INFO] ✓ 测试用例 HOME-AD-02 执行通过
PASSED                                                                                        [ 40%] 
```



